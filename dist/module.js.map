{"version":3,"sources":["../src/module.js"],"names":["MetricsPanelCtrl","_","$","d3","angular","kbn","config","TimeSeries","moment","MultistatPanelCtrl","$scope","$injector","alertSrv","panelDefaults","panel","elem","ctrl","defaults","events","on","onRender","bind","onDataReceived","onDataError","onInitEditMode","err","set","seriesList","render","metricNames","sortDirections","fontSizes","addEditorTab","dateTimeCol","$title","closest","find","$maxDate","length","append","children","last","ShowDate","maxDate","rows","i","dd","add","TZOffsetHours","DateFormat","toUpperCase","text","fromNow","show","format","hide","pulse","highFlashRects","svg","selectAll","highRepeat","transition","duration","HighLimitBarFlashTimeout","attr","HighLimitBarColor","HighLimitBarFlashColor","lowFlashRects","lowRepeat","LowLimitBarFlashTimeout","LowLimitBarColor","LowLimitBarFlashColor","cols","labelCol","valueCol","sortCol","groupCol","DateTimeColName","LabelColName","ValueColName","SortColName","GroupColName","className","id","html","height","$container","h","w","width","SortDirection","ascending","sort","x","y","comp","buildDateHtml","horizontal","Horizontal","labelMargin","isNumeric","LabelMargin","lowSideMargin","LowSideMargin","highSideMargin","HighSideMargin","select","barPadding","BarPadding","baseLineValue","BaseLineValue","minLineValue","MinLineValue","maxLineValue","MaxLineValue","highBarColor","HighBarColor","lowBarColor","LowBarColor","highLimitValue","HighLimitValue","recolorHighLimitBar","RecolorHighLimitBar","lowLimitValue","LowLimitValue","recolorLowLimitBar","RecolorLowLimitBar","flashHighLimitBar","FlashHighLimitBar","flashLowLimitBar","FlashLowLimitBar","showTooltips","ShowTooltips","TooltipDateFormat","ValueDecimals","OddRowColor","EvenRowColor","minValue","min","d","Number","maxValue","max","cc1","cc2","remove","tooltipDiv","style","tooltipShow","c","cc","toFixed","event","pageX","pageY","tooltipHide","plotGroupHorizontal","data","numRows","groupName","left","groupNameOffset","valueScale","scaleLinear","domain","range","nice","labels","map","concat","Math","random","toString","substr","labelScale","scaleBand","rangeRound","padding","oddeven","enter","bandwidth","vLine","value","color","ShowBaseLine","BaseLineColor","ShowMaxLine","MaxLineColor","ShowMinLine","MinLineColor","ShowHighLimitLine","HighLimitLineColor","ShowLowLimitLine","LowLimitLineColor","ww","classed","g","ShowValues","ValueFontSize","ValueColor","ShowLabels","LabelFontSize","LabelColor","gg","call","axisTop","LowAxisColor","axisBottom","HighAxisColor","groupedRows","nest","key","entries","gap","dw","values","hLine","hh","axisLeft","tickSizeInner","tickSizeOuter","ticks","axisRight","renderingCompleted","dataList","type","columns","cols0","Type","refresh","scope","attrs","templateUrl"],"mappings":"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","file":"module.js","sourcesContent":["import {\r\n    MetricsPanelCtrl\r\n} from 'app/plugins/sdk';\r\n\r\nimport \"./css/multistat-panel.css!\";\r\n\r\nimport _ from 'lodash';\r\nimport $ from 'jquery';\r\nimport 'jquery.flot';\r\nimport d3 from './external/d3';\r\nimport angular from 'angular';\r\nimport kbn from 'app/core/utils/kbn';\r\nimport config from 'app/core/config';\r\nimport TimeSeries from 'app/core/time_series2';\r\nimport moment from 'moment';\r\n\r\nclass MultistatPanelCtrl extends MetricsPanelCtrl {\r\n\r\n    /** @ngInject */\r\n    constructor($scope, $injector, alertSrv) {\r\n        super($scope, $injector);\r\n\r\n        this.alertSrv = alertSrv;\r\n\r\n        var panelDefaults = {\r\n\t\t\t\"BarPadding\": 10,\r\n\t\t\t\"BaseLineColor\": \"red\",\r\n\t\t\t\"BaseLineValue\": 0,\r\n\t\t\t\"DateTimeColName\": \"date\",\r\n\t\t\t\"DateFormat\": \"YYYY-MM-DD HH:mm:ss\",\r\n\t\t\t\"TooltipDateFormat\": \"YYYY-MM-DD HH:mm:ss\",\r\n\t\t\t\"FlashHighLimitBar\": true,\r\n\t\t\t\"FlashLowLimitBar\": true,\r\n\t\t\t\"HighAxisColor\": \"white\",\r\n\t\t\t\"HighBarColor\": \"rgb(120, 128, 0)\",\r\n\t\t\t\"HighLimitBarColor\": \"red\",\r\n\t\t\t\"HighLimitBarFlashColor\": \"orange\",\r\n\t\t\t\"HighLimitBarFlashTimeout\": 1000,\r\n\t\t\t\"HighLimitLineColor\": \"red\",\r\n\t\t\t\"HighLimitValue\": 0.33,\r\n\t\t\t\"HighSideMargin\": 20,\r\n\t\t\t\"Horizontal\": false,\r\n\t\t\t\"LabelColName\": \"sensor\",\r\n\t\t\t\"LabelColor\": \"white\",\r\n\t\t\t\"LabelFontSize\": \"100%\",\r\n\t\t\t\"LabelMargin\": null,\r\n\t\t\t\"LowAxisColor\": \"white\",\r\n\t\t\t\"LowBarColor\": \"teal\",\r\n\t\t\t\"LowLimitBarColor\": \"red\",\r\n\t\t\t\"LowLimitBarFlashColor\": \"orange\",\r\n\t\t\t\"LowLimitBarFlashTimeout\": 200,\r\n\t\t\t\"LowLimitLineColor\": \"red\",\r\n\t\t\t\"LowLimitValue\": null,\r\n\t\t\t\"LowSideMargin\": 20,\r\n\t\t\t\"MaxLineColor\": \"rgb(74, 232, 12)\",\r\n\t\t\t\"MaxLineValue\": 1,\r\n\t\t\t\"MinLineValue\": 0,\r\n\t\t\t\"RecolorHighLimitBar\": true,\r\n\t\t\t\"RecolorLowLimitBar\": false,\r\n\t\t\t\"ShowBaseLine\": true,\r\n\t\t\t\"ShowDate\": false,\r\n\t\t\t\"ShowHighLimitLine\": true,\r\n\t\t\t\"ShowLabels\": true,\r\n\t\t\t\"ShowLeftAxis\": true,\r\n\t\t\t\"ShowLowLimitLine\": false,\r\n\t\t\t\"ShowMaxLine\": false,\r\n\t\t\t\"ShowMinLine\": true,\r\n\t\t\t\"ShowRightAxis\": true,\r\n\t\t\t\"ShowTooltips\": true,\r\n\t\t\t\"ShowValues\": true,\r\n\t\t\t\"SortColName\": \"value\",\r\n\t\t\t\"SortDirection\": \"ascending\",\r\n\t\t\t\"TZOffsetHours\": 0,\r\n\t\t\t\"ValueColName\": \"value\",\r\n\t\t\t\"ValueDecimals\": 2,\r\n\t\t\t\"ValueColor\": \"white\",\r\n\t\t\t\"ValueFontSize\": \"100%\",\r\n\t\t\t\"OddRowColor\": \"rgba(33, 33, 34, 0.92)\",\r\n\t\t\t\"EvenRowColor\": \"rgba(61, 61, 64, 0.78)\"\r\n\t\t\t};\r\n\r\n        var panel = {};\r\n        var elem = {};\r\n        var ctrl = {};\r\n\t\t\r\n        _.defaults(this.panel, panelDefaults);\r\n\r\n        this.events.on('render', this.onRender.bind(this));\r\n        this.events.on('data-received', this.onDataReceived.bind(this));\r\n        this.events.on('data-error', this.onDataError.bind(this));\r\n        this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n    }\r\n\r\n    onDataError(err) {\r\n        this.alertSrv.set('Multistat Data Error', err, 'error', 5000);\r\n        this.seriesList = [];\r\n        this.render([]);\r\n    }\r\n\r\n    onInitEditMode() {\r\n\t\tthis.metricNames = ['min', 'max', 'avg', 'current', 'total', 'name', 'first', 'delta', 'diff', 'range'];\r\n\t\tthis.sortDirections = ['none', 'ascending', 'decending'];\r\n        this.fontSizes = ['20%', '30%', '50%', '70%', '80%', '100%', '110%', '120%', '150%', '170%', '200%'];\r\n        this.addEditorTab('Columns', 'public/plugins/michaeldmoore-multistat-panel/columns.html', 2);\r\n        this.addEditorTab('Layout', 'public/plugins/michaeldmoore-multistat-panel/layout.html', 3);\r\n        this.addEditorTab('Lines & Limits', 'public/plugins/michaeldmoore-multistat-panel/linesandlimits.html', 4);\r\n    }\r\n\r\n\tbuildDateHtml(dateTimeCol){\r\n\t\tvar $title = this.elem.closest('.panel-container').find('.panel-title');\r\n\t\tvar $maxDate = $title.find('span.michaeldmoore-multistat-panel-maxDate');\r\n\r\n\t\tif($maxDate.length == 0)\r\n\t\t\t$maxDate = $title.append('<span class=\"michaeldmoore-multistat-panel-maxDate\"/>').children().last();\r\n\r\n\t\tif (dateTimeCol != -1 && this.panel.ShowDate) {\r\n\t\t\tvar maxDate = this.rows[0][dateTimeCol];\r\n\r\n\t\t\tfor(var i = 1; i < this.rows.length; i++){\r\n\t\t\t\tif (maxDate < this.rows[i][dateTimeCol])\r\n\t\t\t\t\tmaxDate = this.rows[i][dateTimeCol];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar dd = moment(maxDate).add(this.panel.TZOffsetHours, 'h');\r\n\t\t\t\r\n\t\t\tif (this.panel.DateFormat.toUpperCase() == 'ELAPSED')\r\n\t\t\t\t$maxDate.text(dd.fromNow()).show();\r\n\t\t\telse\r\n\t\t\t\t$maxDate.text(dd.format(this.panel.DateFormat)).show();\r\n\t\t}\r\n\t\telse\r\n\t\t\t$maxDate.hide();\t\t\t\r\n\t}\r\n\r\n\r\n\t\r\n    onRender() {\r\n\t\tif (this.rows != null) {\r\n\t\t\tvar cols = this.cols;\r\n\t\t\tvar dateTimeCol = -1;\r\n\t\t\tvar labelCol = 0;\r\n\t\t\tvar valueCol = 0;\r\n\t\t\tvar sortCol = 0;\r\n\t\t\tvar groupCol = -1;\r\n\t\t\tfor(var i=0; i < cols.length; i++){\r\n\t\t\t\tif (cols[i] == this.panel.DateTimeColName)\r\n\t\t\t\t\tdateTimeCol = i;\r\n\t\t\t\tif (cols[i] == this.panel.LabelColName)\r\n\t\t\t\t\tlabelCol = i;\r\n\t\t\t\tif (cols[i] == this.panel.ValueColName)\r\n\t\t\t\t\tvalueCol = i;\r\n\t\t\t\tif (cols[i] == this.panel.SortColName)\r\n\t\t\t\t\tsortCol = i;\r\n\t\t\t\tif (cols[i] == this.panel.GroupColName)\r\n\t\t\t\t\tgroupCol = i;\r\n\t\t\t}\r\n\r\n\t\t\tvar className = 'michaeldmoore-multistat-panel-' + this.panel.id;\r\n\t\t\tthis.elem.html(\"<svg class='\" + className + \"'  style='height:\" + this.ctrl.height + \"px; width:100%'></svg>\");\r\n\t\t\tvar $container = this.elem.find('.' + className);\r\n\r\n\t\t\tvar h = $container.height();\r\n\t\t\tvar w = $container.width() - 15;\r\n\r\n\t\t\tif (this.panel.SortDirection != \"none\"){\r\n\t\t\t\tvar ascending = this.panel.SortDirection == \"ascending\";\r\n\t\t\t\tthis.rows.sort(function(x, y){\r\n\t\t\t\t\tvar comp = (x[sortCol] == y[sortCol]) ? 0 : ((x[sortCol] > y[sortCol]) ? 1 : -1);\r\n\t\t\t\t\treturn ascending ? comp : -comp;\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.buildDateHtml(dateTimeCol);\r\n\t\t\t\r\n\t\t\tvar horizontal = this.panel.Horizontal;\r\n\t\t\t\r\n\t\t\tvar labelMargin = ($.isNumeric(this.panel.LabelMargin) && this.panel.LabelMargin >= 0) ? this.panel.LabelMargin : (horizontal ? 100 : 20);\r\n\t\t\tvar lowSideMargin = this.panel.LowSideMargin >= 0 ? this.panel.LowSideMargin : 0;\r\n\t\t\tvar highSideMargin = this.panel.HighSideMargin >= 0 ? this.panel.HighSideMargin : 0;\r\n\r\n\t\t\tvar svg = d3.select('.' + className).append('svg');\t\r\n\r\n\t\t\tvar barPadding = this.panel.BarPadding;\r\n\t\t\tvar baseLineValue = this.panel.BaseLineValue;\r\n\t\t\tvar minLineValue = this.panel.MinLineValue;\r\n\t\t\tvar maxLineValue = this.panel.MaxLineValue;\r\n\t\t\tvar highBarColor = this.panel.HighBarColor;\r\n\t\t\tvar lowBarColor = this.panel.LowBarColor;\r\n\t\t\tvar highLimitValue = this.panel.HighLimitValue;\r\n\t\t\tvar HighLimitBarColor = this.panel.HighLimitBarColor;\r\n\t\t\tvar HighLimitBarFlashColor = this.panel.HighLimitBarFlashColor;\r\n\t\t\tvar HighLimitBarFlashTimeout = this.panel.HighLimitBarFlashTimeout;\r\n\t\t\tvar recolorHighLimitBar = this.panel.RecolorHighLimitBar;\r\n\t\t\tvar lowLimitValue = this.panel.LowLimitValue;\r\n\t\t\tvar LowLimitBarColor = this.panel.LowLimitBarColor;\r\n\t\t\tvar LowLimitBarFlashColor = this.panel.LowLimitBarFlashColor;\r\n\t\t\tvar LowLimitBarFlashTimeout = this.panel.LowLimitBarFlashTimeout;\r\n\t\t\tvar recolorLowLimitBar = this.panel.RecolorLowLimitBar;\r\n\t\t\tvar flashHighLimitBar = this.panel.FlashHighLimitBar;\r\n\t\t\tvar flashLowLimitBar = this.panel.FlashLowLimitBar;\r\n\t\t\tvar showTooltips = this.panel.ShowTooltips;\r\n\t\t\tvar DateTimeColName = this.panel.DateTimeColName;\r\n\t\t\tvar DateFormat = this.panel.DateFormat;\r\n\t\t\tvar TooltipDateFormat = this.panel.TooltipDateFormat;\r\n\t\t\tvar ValueColName = this.panel.ValueColName;\r\n\t\t\tvar ValueDecimals = this.panel.ValueDecimals;\r\n\t\t\tvar OddRowColor = this.panel.OddRowColor;\r\n\t\t\tvar EvenRowColor = this.panel.EvenRowColor;\r\n\t\t\tvar TZOffsetHours = this.panel.TZOffsetHours;\r\n\t\t\t\r\n\t\t\tif ($.isNumeric(HighLimitBarFlashTimeout) == false)\r\n\t\t\t\tHighLimitBarFlashTimeout = 200;\r\n\t\t\t\r\n\t\t\tif ($.isNumeric(LowLimitBarFlashTimeout) == false)\r\n\t\t\t\tLowLimitBarFlashTimeout = 200;\r\n\t\t\t\r\n\t\t\tvar minValue = d3.min(this.rows, function(d) { return Number(d[valueCol]); });\r\n\t\t\tif ($.isNumeric(minLineValue) == false || minLineValue > minValue)\r\n\t\t\t\tminLineValue = minValue;\r\n\t\t\t\r\n\t\t\tvar maxValue = d3.max(this.rows, function(d) { return Number(d[valueCol]); });\r\n\t\t\tif ($.isNumeric(maxLineValue) == false || maxLineValue < maxValue)\r\n\t\t\t\tmaxLineValue = maxValue;\t\t\t\t\r\n\t\t\t\r\n\t\t\tif ($.isNumeric(baseLineValue) == false)\r\n\t\t\t\tbaseLineValue = 0;\r\n\t\t\t\r\n\t\t\tif (minLineValue > baseLineValue)\r\n\t\t\t\tminLineValue = baseLineValue;\r\n\t\t\t\r\n\t\t\tif ($.isNumeric(lowLimitValue) && minLineValue > lowLimitValue)\r\n\t\t\t\tminLineValue = lowLimitValue;\r\n\t\t\t\r\n\t\t\tif (maxLineValue < baseLineValue)\r\n\t\t\t\tmaxLineValue = baseLineValue;\r\n\t\t\t\r\n\t\t\tif ($.isNumeric(highLimitValue) && maxLineValue < highLimitValue)\r\n\t\t\t\tmaxLineValue = highLimitValue;\r\n\r\n\t\t\t//var formatDecimal = d3.format(\".2f\");\r\n\t\t\t\r\n\r\n\t\t\tvar cc1 = d3.select(\"body\");\r\n\t\t\tvar cc2 = cc1.selectAll(\".michaeldmoore-multistat-panel-tooltip-\" + this.panel.id);\r\n\t\t\tcc2.remove();\r\n\t\t\t\r\n\t\t\tvar tooltipDiv = d3.select(\"body\").append(\"div\")\r\n\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-tooltip michaeldmoore-multistat-panel-tooltip-\" + this.panel.id)\r\n\t\t\t\t.style(\"opacity\", 0);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar tooltipShow = function(d, c){\r\n\t\t\t\ttooltipDiv.transition()\r\n\t\t\t\t.duration(200)\r\n\t\t\t\t.style(\"opacity\", .9);\r\n\t\t\t\tvar html = \"<table>\";\r\n\t\t\t\tfor (i = 0; i < d.length; i++){\r\n\t\t\t\t\tvar cc = c[i];\r\n\t\t\t\t\tvar dd = d[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (cc == DateTimeColName)\r\n\t\t\t\t\t\tdd = moment(dd).add(TZOffsetHours, 'h').format(TooltipDateFormat);\r\n\t\t\t\t\telse if (cc == ValueColName && $.isNumeric(dd))\r\n\t\t\t\t\t\tdd = dd.toFixed(ValueDecimals);\r\n\t\t\t\t\t\r\n\t\t\t\t\thtml += \"<tr><td>\" + cc + \"</td><td>\" + dd + \"</td></tr>\";\r\n\t\t\t\t}\r\n\t\t\t\thtml += \"</table>\";\r\n\t\t\t\ttooltipDiv.html(html)\r\n\t\t\t\t.style(\"left\", d3.event.pageX + \"px\")\r\n\t\t\t\t.style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n\t\t\t}\r\n\r\n\t\t\tvar tooltipHide = function() {\r\n\t\t\t\ttooltipDiv.transition()\t\t\r\n\t\t\t\t.duration(500)\t\t\r\n\t\t\t\t.style(\"opacity\", 0);\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(horizontal) {\r\n\t\t\t\tvar plotGroupHorizontal = function(panel, data, numRows, groupName, left, w) {\r\n\t\t\t\t\tvar groupNameOffset = groupName != '' ? 15 : 0;\r\n\t\t\t\t\tlowSideMargin += groupNameOffset;\r\n\r\n\t\t\t\t\tvar valueScale = d3.scaleLinear()\r\n\t\t\t\t\t\t\t\t.domain([minLineValue, maxLineValue])\r\n\t\t\t\t\t\t\t\t.range([left + labelMargin, w])\r\n\t\t\t\t\t\t\t\t.nice();\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar labels = data.map(function(d){ return d[labelCol]; });\r\n\t\t\t\t\twhile (labels.length < numRows)\r\n\t\t\t\t\t\tlabels = labels.concat('_' + Math.random().toString(36).substr(2, 9));\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\tvar labelScale = d3.scaleBand()\r\n\t\t\t\t\t\t\t\t.domain(labels)\r\n\t\t\t\t\t\t\t\t.rangeRound([lowSideMargin, h - highSideMargin])\r\n\t\t\t\t\t\t\t\t.padding(barPadding / 100);\r\n\t\t\t\t\r\n\t\t\t\t\t// Draw background of alternating stripes \r\n\t\t\t\t\tvar oddeven = false;\r\n\t\t\t\t\tsvg.append(\"g\")\r\n\t\t\t\t\t\t.selectAll(\"rect\")\r\n\t\t\t\t\t\t.data(data)\r\n\t\t\t\t\t\t.enter()\r\n\t\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-row\")\r\n\t\t\t\t\t\t.attr(\"width\", w)\r\n\t\t\t\t\t\t.attr(\"height\", labelScale.bandwidth())\r\n\t\t\t\t\t\t.attr(\"x\", left)\r\n\t\t\t\t\t\t.attr(\"y\", function(d,i){return labelScale(d[labelCol])})\r\n\t\t\t\t\t\t.attr(\"fill\", function(d) { \r\n\t\t\t\t\t\t\t\toddeven = !oddeven;\r\n\t\t\t\t\t\t\t\treturn oddeven ? OddRowColor : EvenRowColor;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tfunction vLine(value, color) {\t\r\n\t\t\t\t\t\tsvg.append(\"line\")\r\n\t\t\t\t\t\t\t.style(\"stroke\", color)\r\n\t\t\t\t\t\t\t.attr(\"y1\", lowSideMargin)\r\n\t\t\t\t\t\t\t.attr(\"x1\", valueScale(value))\r\n\t\t\t\t\t\t\t.attr(\"y2\", h - highSideMargin)\r\n\t\t\t\t\t\t\t.attr(\"x2\", valueScale(value));\r\n\t\t\t\t\t}\t\t\t\r\n\r\n\t\t\t\t\tif(panel.ShowBaseLine)\r\n\t\t\t\t\t\tvLine(baseLineValue, panel.BaseLineColor);\r\n\r\n\t\t\t\t\tif(panel.ShowMaxLine)\r\n\t\t\t\t\t\tvLine(maxLineValue, panel.MaxLineColor);\r\n\r\n\t\t\t\t\tif(panel.ShowMinLine)\r\n\t\t\t\t\t\tvLine(minLineValue, panel.MinLineColor);\r\n\r\n\t\t\t\t\tif(panel.ShowHighLimitLine)\r\n\t\t\t\t\t\tvLine(highLimitValue, panel.HighLimitLineColor);\r\n\r\n\t\t\t\t\tif(panel.ShowLowLimitLine)\r\n\t\t\t\t\t\tvLine(lowLimitValue, panel.LowLimitLineColor);\r\n\r\n\t\t\t\t\tsvg.append(\"g\")\r\n\t\t\t\t\t\t.selectAll(\"rect\")\r\n\t\t\t\t\t\t.data(data)\r\n\t\t\t\t\t\t.enter()\r\n\t\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-bar\")\r\n\t\t\t\t\t\t.attr(\"width\", function(d) { \r\n\t\t\t\t\t\t\tvar ww = valueScale(d[valueCol]) - valueScale(baseLineValue);\r\n\t\t\t\t\t\t\tif (ww < 0)\r\n\t\t\t\t\t\t\t\tww = -ww;\r\n\t\t\t\t\t\t\treturn ww; \r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.attr(\"height\", labelScale.bandwidth())\r\n\t\t\t\t\t\t.attr(\"x\", function(d) { \r\n\t\t\t\t\t\t\treturn d3.min([valueScale(d[valueCol]), valueScale(baseLineValue)]); \r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.attr(\"y\", function(d,i){return labelScale(d[labelCol])})\r\n\t\t\t\t\t\t.attr(\"fill\", function(d) { \r\n\t\t\t\t\t\t\tif (recolorHighLimitBar && (d[valueCol] > highLimitValue))\r\n\t\t\t\t\t\t\t\treturn HighLimitBarColor;\r\n\t\t\t\t\t\t\tif (recolorLowLimitBar && (d[valueCol] < lowLimitValue))\r\n\t\t\t\t\t\t\t\treturn LowLimitBarColor;\r\n\t\t\t\t\t\t\treturn (d[valueCol] > baseLineValue) ? highBarColor : lowBarColor;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.classed(\"highflash\", function(d) { \r\n\t\t\t\t\t\t\treturn recolorHighLimitBar && flashHighLimitBar && (d[valueCol] > highLimitValue);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.classed(\"lowflash\", function(d) { \r\n\t\t\t\t\t\t\treturn recolorLowLimitBar && flashLowLimitBar && (d[valueCol] < lowLimitValue);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"mouseover\", function(d) {\r\n\t\t\t\t\t\t\tif (showTooltips)\r\n\t\t\t\t\t\t\t\ttooltipShow(d, cols);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"mouseout\", function() { \r\n\t\t\t\t\t\t\ttooltipHide();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar g = svg\r\n\t\t\t\t\t\t\t.append(\"g\")\r\n\t\t\t\t\t\t\t.selectAll(\"text\")\r\n\t\t\t\t\t\t\t.data(data)\r\n\t\t\t\t\t\t\t.enter()\r\n\t\t\t\t\t\t\t.append(\"g\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (panel.ShowValues) {\r\n\t\t\t\t\t\tg.append(\"text\")\r\n\t\t\t\t\t\t//.text(function(d) {return formatDecimal(d[valueCol])})\r\n\t\t\t\t\t\t.text(function(d) {return d[valueCol].toFixed(ValueDecimals)})\r\n\t\t\t\t\t\t.attr(\"x\", function(d){return valueScale(d[valueCol]) + ((d[valueCol] > baseLineValue) ? - 5 : + 5)})\r\n\t\t\t\t\t\t.attr(\"y\", function(d,i){return labelScale(d[labelCol]) + (labelScale.bandwidth() / 2)})\r\n\t\t\t\t\t\t.attr(\"font-family\", \"sans-serif\")\r\n\t\t\t\t\t\t.attr(\"font-size\", panel.ValueFontSize)\r\n\t\t\t\t\t\t.attr(\"fill\", panel.ValueColor)\r\n\t\t\t\t\t\t.attr(\"text-anchor\", function(d){return (d[valueCol] > baseLineValue) ? \"end\" : \"start\";})\r\n\t\t\t\t\t\t.attr(\"dominant-baseline\", \"central\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (panel.ShowLabels) {\r\n\t\t\t\t\t\tg.append(\"text\")\r\n\t\t\t\t\t\t.text(function(d) { return d[labelCol]; })\r\n\t\t\t\t\t\t.attr(\"x\", left + labelMargin - 5)\r\n\t\t\t\t\t\t.attr(\"y\", function(d,i){return labelScale(d[labelCol]) + (labelScale.bandwidth() / 2)})\r\n\t\t\t\t\t\t.attr(\"font-family\", \"sans-serif\")\r\n\t\t\t\t\t\t.attr(\"font-size\", panel.LabelFontSize)\r\n\t\t\t\t\t\t.attr(\"fill\", panel.LabelColor)\r\n\t\t\t\t\t\t.attr(\"text-anchor\", \"end\")\r\n\t\t\t\t\t\t.attr(\"dominant-baseline\", \"central\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Add Low Side Group Names\r\n\t\t\t\t\tif(groupName != '') {\r\n\t\t\t\t\t\tsvg.append(\"text\")\r\n\t\t\t\t\t\t\t.text(groupName)\r\n\t\t\t\t\t\t\t.attr(\"x\", left + ((labelMargin + w - left)/2) - 5)\r\n\t\t\t\t\t\t\t.attr(\"y\", 5)\r\n\t\t\t\t\t\t\t.attr(\"font-family\", \"sans-serif\")\r\n\t\t\t\t\t\t\t.attr(\"font-size\", panel.LabelFontSize)\r\n\t\t\t\t\t\t\t.attr(\"fill\", panel.LabelColor)\r\n\t\t\t\t\t\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t\t\t\t\t\t.attr(\"dominant-baseline\", \"central\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Add Low Side Value Axis (X)\r\n\t\t\t\t\tif (lowSideMargin > groupNameOffset) {\t\r\n\t\t\t\t\t\tvar gg = svg.append(\"g\")\r\n\t\t\t\t\t\t\t\t.attr(\"transform\", 'translate(0,' + lowSideMargin + ')')\r\n\t\t\t\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-valueaxis\")\r\n\t\t\t\t\t\t\t\t.call(d3.axisTop(valueScale));\r\n\t\t\t\t\t\tgg.selectAll('.tick text').attr('fill', panel.LowAxisColor);\r\n\t\t\t\t\t\tgg.selectAll('.tick line').attr('stroke', panel.LowAxisColor);\r\n\t\t\t\t\t\tgg.selectAll('path.domain').attr('stroke', panel.LowAxisColor);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Add High Side Value Axis (X)\r\n\t\t\t\t\tif (highSideMargin > 0) {\t\r\n\t\t\t\t\t\tvar gg = svg.append(\"g\")\r\n\t\t\t\t\t\t\t\t.attr(\"transform\", 'translate(0,' + (h - highSideMargin) + ')')\r\n\t\t\t\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-valueaxis\")\r\n\t\t\t\t\t\t\t\t.call(d3.axisBottom(valueScale));\r\n\t\t\t\t\t\tgg.selectAll('.tick text').attr('fill', panel.HighAxisColor);\r\n\t\t\t\t\t\tgg.selectAll('.tick line').attr('stroke', panel.HighAxisColor);\r\n\t\t\t\t\t\tgg.selectAll('path.domain').attr('stroke', panel.HighAxisColor);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlowSideMargin -= groupNameOffset;\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (groupCol >= 0){\r\n\t\t\t\t\tthis.groupedRows = d3.nest()\r\n\t\t\t\t\t\t.key(function(d){return d[groupCol]})\r\n\t\t\t\t\t\t.entries(this.rows);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tvar gap = 5;\t\r\n\t\t\t\t\tvar dw = ((w + gap) / this.groupedRows.length);\r\n\t\t\t\t\tvar numRows = d3.max(this.groupedRows, function(d) { return d.values.length;} );\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var i = 0; i < this.groupedRows.length; i++)\r\n\t\t\t\t\t\tplotGroupHorizontal(this.panel, this.groupedRows[i].values, numRows, this.groupedRows[i].key, i * dw, (i * dw) + dw - gap);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.groupedRows = null;\r\n\r\n\t\t\t\t\tplotGroupHorizontal(this.panel, this.rows, this.rows.length, '', 0, w);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar valueScale = d3.scaleLinear()\r\n\t\t\t\t\t\t\t.domain([maxLineValue, minLineValue])\r\n\t\t\t\t\t\t\t.range([10, h - labelMargin])\r\n\t\t\t\t\t\t\t.nice();\r\n\t\t\t\t\r\n\t\t\t\tvar labelScale = d3.scaleBand()\r\n\t\t\t\t\t\t\t.domain(this.rows.map(function(d){ return d[labelCol]; }))\r\n\t\t\t\t\t\t\t.range([lowSideMargin, w - highSideMargin])\r\n\t\t\t\t\t\t\t.padding(barPadding / 100);\r\n\r\n\t\t\t\t// Draw background of alternating stripes \r\n\t\t\t\tvar oddeven = false;\r\n\t\t\t\tsvg//.append(\"g\")\r\n\t\t\t\t\t.selectAll(\"rect\")\r\n\t\t\t\t\t.data(this.rows)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"rect\")\r\n\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-row\")\r\n\t\t\t\t\t.attr(\"width\", labelScale.bandwidth())\r\n\t\t\t\t\t.attr(\"height\", h)\r\n\t\t\t\t\t.attr(\"x\", function(d,i){return labelScale(d[labelCol])})\r\n\t\t\t\t\t.attr(\"y\", 0)\r\n\t\t\t\t\t.attr(\"fill\", function(d) { \r\n\t\t\t\t\t\t\toddeven = !oddeven;\r\n\t\t\t\t\t\t\treturn oddeven ? OddRowColor : EvenRowColor;\r\n\t\t\t\t\t\t});\r\n\t\t\r\n\t\t\t\tfunction hLine(value, color) {\t\r\n\t\t\t\t\tsvg.append(\"line\")\r\n\t\t\t\t\t\t.style(\"stroke\", color)\r\n\t\t\t\t\t\t.attr(\"x1\", lowSideMargin)\r\n\t\t\t\t\t\t.attr(\"y1\", valueScale(value))\r\n\t\t\t\t\t\t.attr(\"x2\", w - highSideMargin)\r\n\t\t\t\t\t\t.attr(\"y2\", valueScale(value));\r\n\t\t\t\t}\t\t\t\r\n\r\n\t\t\t\tif(this.panel.ShowBaseLine)\r\n\t\t\t\t\thLine(baseLineValue, this.panel.BaseLineColor);\r\n\r\n\t\t\t\tif(this.panel.ShowMaxLine)\r\n\t\t\t\t\thLine(maxLineValue, this.panel.MaxLineColor);\r\n\r\n\t\t\t\tif(this.panel.ShowMinLine)\r\n\t\t\t\t\thLine(minLineValue, this.panel.MinLineColor);\r\n\r\n\t\t\t\tif(this.panel.ShowHighLimitLine)\r\n\t\t\t\t\thLine(highLimitValue, this.panel.HighLimitLineColor);\r\n\r\n\t\t\t\tif(this.panel.ShowLowLimitLine)\r\n\t\t\t\t\thLine(lowLimitValue, this.panel.LowLimitLineColor);\r\n\r\n\t\t\t\t\r\n\t\t\t\tsvg.append(\"g\")\r\n\t\t\t\t\t.selectAll(\"rect\")\r\n\t\t\t\t\t.data(this.rows)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"rect\")\t\r\n\t\t\t\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-bar\")\r\n\t\t\t\t\t.attr(\"height\", function(d) { \r\n\t\t\t\t\t\tvar hh = valueScale(d[valueCol]) - valueScale(baseLineValue);\r\n\t\t\t\t\t\tif (hh < 0)\r\n\t\t\t\t\t\t\thh = -hh;\r\n\t\t\t\t\t\treturn hh; \r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.attr(\"width\", labelScale.bandwidth())\r\n\t\t\t\t\t.attr(\"y\", function(d) { \r\n\t\t\t\t\t\treturn d3.min([valueScale(d[valueCol]), valueScale(baseLineValue)]); \r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.attr(\"x\", function(d, i) { return labelScale(d[labelCol]) })\r\n\t\t\t\t\t.attr(\"fill\", function(d) { \r\n\t\t\t\t\t\tif (recolorHighLimitBar && (d[valueCol] > highLimitValue))\r\n\t\t\t\t\t\t\treturn HighLimitBarColor;\r\n\t\t\t\t\t\tif (recolorLowLimitBar && (d[valueCol] < lowLimitValue))\r\n\t\t\t\t\t\t\treturn LowLimitBarColor;\r\n\t\t\t\t\t\treturn (d[valueCol] > baseLineValue) ? highBarColor : lowBarColor;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.classed(\"highflash\", function(d) { \r\n\t\t\t\t\t\treturn recolorHighLimitBar && flashHighLimitBar && (d[valueCol] > highLimitValue);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.classed(\"lowflash\", function(d) { \r\n\t\t\t\t\t\treturn recolorLowLimitBar && flashLowLimitBar && (d[valueCol] < lowLimitValue);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t    .on(\"mouseover\", function(d) {\r\n\t\t\t\t\t\tif (showTooltips)\r\n\t\t\t\t\t\t\ttooltipShow(d, cols);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.on(\"mouseout\", function() { \r\n\t\t\t\t\t\ttooltipHide();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tvar g = svg.selectAll(\"text\")\r\n\t\t\t\t\t.data(this.rows)\r\n\t\t\t\t\t.enter()\r\n\t\t\t\t\t.append(\"g\");\r\n\t\t\t\t\t\r\n\t\t\t\tif (this.panel.ShowValues) {\r\n\t\t\t\t\tg.append(\"text\")\r\n\t\t\t\t\t//.text(function(d) { return formatDecimal(d[valueCol]); })\r\n\t\t\t\t\t.text(function(d) {return d[valueCol].toFixed(ValueDecimals)})\r\n\t\t\t\t\t.attr(\"x\", function(d, i) { return labelScale(d[labelCol]) + (labelScale.bandwidth() / 2); })\r\n\t\t\t\t\t.attr(\"y\", function(d){\r\n\t\t\t\t\t\treturn valueScale(d[valueCol]) + ((d[valueCol] > baseLineValue) ? 5 : -5);\r\n\t\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t\t\t.attr(\"font-family\", \"sans-serif\")\r\n\t\t\t\t\t.attr(\"font-size\", this.panel.ValueFontSize)\r\n\t\t\t\t\t.attr(\"fill\", this.panel.ValueColor)\r\n\t\t\t\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t\t\t\t.attr(\"dominant-baseline\", function(d){return (d[valueCol] > baseLineValue) ? \"text-before-edge\" : \"text-after-edge\"});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.panel.ShowLabels) {\r\n\t\t\t\t\tg.append(\"text\")\r\n\t\t\t\t\t.text(function(d) { return d[labelCol]; })\r\n\t\t\t\t\t.attr(\"x\", function(d, i) { return labelScale(d[labelCol]) + (labelScale.bandwidth() / 2); })\r\n\t\t\t\t\t.attr(\"y\", function(d) { return h - labelMargin + 14; })\r\n\t\t\t\t\t.attr(\"font-family\", \"sans-serif\")\r\n\t\t\t\t\t.attr(\"font-size\", this.panel.LabelFontSize)\r\n\t\t\t\t\t.attr(\"fill\", this.panel.LabelColor)\r\n\t\t\t\t\t.attr(\"text-anchor\", \"middle\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lowSideMargin > 0) {\t\r\n\t\t\t\t\tvar gg = svg.append(\"g\")\r\n\t\t\t\t\t\t.attr('transform', 'translate(' + lowSideMargin + ', 0)')\r\n\t\t\t\t\t\t.classed('michaeldmoore-multistat-panel-valueaxis', true)\r\n\t\t\t\t\t\t.call(d3.axisLeft(valueScale).tickSizeInner(5).tickSizeOuter(10).ticks(5));\r\n\t\t\t\t\tgg.selectAll('.tick text').attr('fill', this.panel.LowAxisColor);\r\n\t\t\t\t\tgg.selectAll('.tick line').attr('stroke', this.panel.LowAxisColor);\r\n\t\t\t\t\tgg.selectAll('path.domain').attr('stroke', this.panel.LowAxisColor);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (highSideMargin > 0) {\t\r\n\t\t\t\t\tvar gg = svg.append(\"g\")\r\n\t\t\t\t\t\t.attr('transform', 'translate(' + (w - highSideMargin) + ', 0)')\r\n\t\t\t\t\t\t.classed('michaeldmoore-multistat-panel-valueaxis', true)\r\n\t\t\t\t\t\t.call(d3.axisRight(valueScale).tickSizeInner(5).tickSizeOuter(10).ticks(5));\r\n\t\t\t\t\tgg.selectAll('.tick text').attr('fill', this.panel.HighAxisColor);\r\n\t\t\t\t\tgg.selectAll('.tick line').attr('stroke', this.panel.HighAxisColor);\r\n\t\t\t\t\tgg.selectAll('path.domain').attr('stroke', this.panel.HighAxisColor);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfunction pulse() {\r\n\t\t\t\tvar highFlashRects = svg.selectAll(\"rect.michaeldmoore-multistat-panel-bar.highflash\");\r\n\t\t\t\t(function highRepeat() {\r\n\t\t\t\t\thighFlashRects.transition()\r\n\t\t\t\t\t.duration(HighLimitBarFlashTimeout)\r\n\t\t\t\t\t.attr(\"fill\", HighLimitBarColor)\r\n\t\t\t\t\t.transition()\r\n\t\t\t\t\t.duration(HighLimitBarFlashTimeout)\r\n\t\t\t\t\t.attr(\"fill\", HighLimitBarFlashColor)\r\n\t\t\t\t\t.on(\"end\", highRepeat);\r\n\t\t\t\t})();\r\n\r\n\t\t\t\tvar lowFlashRects = svg.selectAll(\"rect.michaeldmoore-multistat-panel-bar.lowflash\");\r\n\t\t\t\t(function lowRepeat() {\r\n\t\t\t\t\tlowFlashRects.transition()\r\n\t\t\t\t\t.duration(LowLimitBarFlashTimeout)\r\n\t\t\t\t\t.attr(\"fill\", LowLimitBarColor)\r\n\t\t\t\t\t.transition()\r\n\t\t\t\t\t.duration(LowLimitBarFlashTimeout)\r\n\t\t\t\t\t.attr(\"fill\", LowLimitBarFlashColor)\r\n\t\t\t\t\t.on(\"end\", lowRepeat);\r\n\t\t\t\t})();\r\n\t\t\t}\r\n\r\n\t\t\tpulse();\r\n\t\t}\r\n\t\t\r\n\t\t//var tooltipDiv = svg.append(\"div\")\r\n\t\t//\t\t.attr(\"class\", \"michaeldmoore-multistat-panel-tooltip\")\r\n\t\t//\t\t//.style(\"height\", \"100px\")\r\n\t\t//\t\t//.style(\"width\", \"100px\")\r\n\t\t//\t\t//.style(\"left\", \"100px\")\r\n\t\t//\t\t//.style(\"top\", \"100px\")\r\n\t\t//\t\t.style(\"opacity\", 0);\r\n\t\t\t\t\r\n        this.ctrl.renderingCompleted();\r\n    }\r\n\r\n\r\n    onDataReceived(dataList) {\r\n\t\tif (dataList.length == 0){\r\n\t\t\tthis.elem.html(\"<div style='position:absolute;top:50%;text-align:center;font-size:0.875rem;'>No data to show</div>\");\r\n\t\t\tthis.rows = null;\r\n\t\t\tthis.cols = [];\r\n\t\t}\r\n\t\telse if (dataList[0].type == \"table\"){\r\n\t\t\tvar data = dataList[0];\r\n\t\t\tthis.rows = data.rows;\r\n\t\t\tthis.cols = [];\r\n\t\t\tfor(var i=0; i < data.columns.length; i++){\r\n\t\t\t\tthis.cols[i] = data.columns[i].text;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tthis.cols0 = [''].concat(this.cols);\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t\telse {\r\n          this.alertSrv.set('Multistat Data Error', 'Query type \"' + dataList[0].Type + '\", not supported', 'error', 5000);\r\n\t\t}\r\n    }\r\n\r\n\r\n    onConfigChanged() {\r\n        this.refresh();\r\n    }\r\n\r\n    link(scope, elem, attrs, ctrl) {\r\n        this.ctrl = ctrl;\r\n        this.elem = elem.find('.panel-content');\r\n    }\r\n}\r\n\r\nMultistatPanelCtrl.templateUrl = 'module.html';\r\n\r\nexport {\r\n    MultistatPanelCtrl as PanelCtrl\r\n};\r\n"]}
